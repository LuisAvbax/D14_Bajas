<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../templates/desktop.xhtml">
	<ui:define name="content">
		<h:panelGrid columns="2">
			<div id="TituloPantalla" class="tituloPantalla">#{msg.reporte_tit_reporteConcentrado}</div>	
		</h:panelGrid>
		<h:form id="totregForm">
		<p:messages id="msgFile" showSummary="false" showDetail="true" autoUpdate="false" closable="false" globalOnly="true" />
		
		<h:panelGrid id="gridfiltros" columns="1" border="0" style="margin: 0 auto;text-align:center;">
			<h:outputText value="#{resuConcentrado.calculotxt}" style="font-size:11px;"/>
			<c:choose>    
			    <c:when test="#{resuConcentrado.acum eq 'true'}">  
			      <h:outputText value="#{resuConcentrado.mesSeleccion}" style="font-size:11px;" />
			    </c:when>  
			    <c:otherwise>  
			       <h:outputText value="#{resuConcentrado.mesSeleccion}" style="font-size:11px;" />
				   <h:outputText value="AÑO: #{resuConcentrado.anio}" style="font-size:11px;" />
			    </c:otherwise>  
			</c:choose>
			<h:outputText value="CLASE: #{resuConcentrado.claseReptxt}" style="font-size:11px;" />
			<h:outputText value="REGIÓN: #{resuConcentrado.regionReptxt}" style="font-size:11px;" />
			<h:outputText value="#{resuConcentrado.textosTitulos}" style="font-size:11px;" />
			<h:outputText value="AJUSTES: #{resuConcentrado.ajuste.descripcion}" style="font-size:11px;" />
			
			</h:panelGrid>
			
			<p:spacer height="10px" />
			
			<h:panelGrid id="griddescarga" columns="2" cellpadding="5" border="0">
				<h:commandLink  id="linkdescarga" action="descarga" >
					<h:graphicImage value="/css/iconos/excel-icon.png" style="width : 43px; height : 43px;"/>
				</h:commandLink>
				<h:commandLink  id="linkdescargaPDF" action="dDesPDF">
				<h:graphicImage value="/css/iconos/Pdf-icon.png" style="width : 43px; height : 43px;"/>
			</h:commandLink>	
			</h:panelGrid>
			
			<p:spacer height="5px"/>
			
			
<!-- 		         TABLA GENERAL        -->
			<p:panel style="flot:left;overflow-x: auto;width:1200px;" >
				<table id="detGeneral" style="table-layout:fixed;width:100%">
					<tr>
					<td class="customTableHCN">FECHA CAP</td>
					<td class="customTableHCN">TEXTO BAJA</td>
					<td class="customTableHCN">PERIODO<br/>BAJA</td>
					<td class="customTableHCN">ADQUISICION<br/>BAJA</td>
					<td class="customTableHCN">ACUMULADA<br/>BAJA</td>
					<td class="customTableHCN">EJERCICIO<br/>BAJA</td>
					<td class="customTableHCN">DEPRECIACION<br/>TOTAL</td>
					<td class="customTableHCN">COSTO<br/>HISTORICO</td>
					<td class="customTableHCN">INPC<br/>MP</td>
					<td class="customTableHCN">INPC</td>
					<td class="customTableHCN">FACTOR<br/>ACT</td>
					<td class="customTableHCN">COSTO<br/>ACTUALIZADO</td>
					<td class="customTableHCN">DEP. AÑO<br/>ACTUALIZADA</td>
					</tr>
				<ui:repeat var="region" value="#{resuConcentrado.detRegiones}" varStatus="regst">
		            <tr>
			            <td colspan="13" class="customTableHCombCN">
			            	<h:outputText value="REGIÓN: #{region.nombre}" />
			            </td>
			            
					</tr>
					<ui:repeat var="clase" value="#{region.clases}" varStatus="clast">
					<tr>
						<td colspan="13" class="customTableHCombCN">
			            	<h:outputText value="CLASE: #{clase.nombre}" />
			            </td>
					</tr>
						<ui:repeat var="anio" value="#{clase.anio}" varStatus="anst">
						<ui:repeat var="texto" value="#{anio.textos}" varStatus="clast">
							<tr>
								
								<td class="customTableDTxtCNDate">
									<h:outputText value="#{texto.mesStr}-#{texto.anio}" />
								</td>
								
								<td class="customTableDTxtCN">
									<h:outputText value="#{texto.texto_baja}" />
								</td>
								
								<td class="customTableDTxtCNMonth">
									<h:outputText value="#{texto.perbajaObj.id}">
										
									</h:outputText>
								</td>
								
								<td class="customTableDetCN">
									<h:outputText value="#{texto.adq_baja}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />
									</h:outputText>
								</td>
								<td class="customTableDetCN">
									<h:outputText value="#{texto.adq_ac_baja}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />	
									</h:outputText>
								</td>
								<td class="customTableDetCN">
									<h:outputText value="#{texto.ejercicio_baja}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />
									</h:outputText>
								</td>
								<td class="customTableDetCN">
									<h:outputText value="#{texto.depr_tot}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />
									</h:outputText>
								</td>
								<td class="customTableDetCN">
									<h:outputText value="#{texto.costo_h}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />
									</h:outputText>
								</td>
								
								<td class="customTableDetCN">
									<h:outputText value="#{texto.inpcmp}">
										<f:convertNumber pattern="##,##0.0000" locale="es_MX" />
									</h:outputText>
								</td>
								
								<td class="customTableDetCN">
									<h:outputText value="#{texto.inpc}">
										<f:convertNumber pattern="##,##0.0000" locale="es_MX" />
									</h:outputText>
								</td>
								
								<td class="customTableDetCN">
									<h:outputText value="#{texto.fac_act}">
										<f:convertNumber pattern="##,##0.0000" locale="es_MX" />
									</h:outputText>
								</td>
								
								<td class="customTableDetCN">
									<h:outputText value="#{texto.costo_act}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />
									</h:outputText>
								</td>
								<td class="customTableDetCN">
									<h:outputText value="#{texto.depre_anual_act}">
										<f:convertNumber pattern="##,##0.00" locale="es_MX" />
									</h:outputText>
								</td>
								</tr>
						</ui:repeat>
						<tr>
							<td colspan="3" class="customTableDetTTxtCN">
								<h:outputText value="TOTAL AÑO: #{anio.anio}">
								</h:outputText>
							</td>
							
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.adq_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.adq_ac_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.ejercicio_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.depr_tot}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.costo_h}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
							<td class="customTableDetTCN">
								
							</td>
							<td class="customTableDetTCN">
								
							</td>
							<td class="customTableDetTCN">
								
							</td>
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.costo_act}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
							<td class="customTableDetTCN">
								<h:outputText value="#{anio.totalAnio.depre_anual_act}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
								</h:outputText>
							</td>
						</tr>
						</ui:repeat>
						<tr>
						<td colspan="3" class="customTableDetTTxtCN">
							<h:outputText value="TOTAL CLASE: #{clase.nombreCorto}">
							</h:outputText>
						</td>
						
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_adq_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_adq_ac_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_ejercicio_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_depr_tot}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_costo_h}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							
						</td>
						<td class="customTableDetTCN">
							
						</td>
						<td class="customTableDetTCN">
							
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_costo_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{clase.all_depre_anual_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
					</tr>
					</ui:repeat>
					<tr>
						<td colspan="3" class="customTableDetTTxtCN">
							<h:outputText value="TOTAL REGIÓN: #{region.nombre}" />
						</td>
						
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_adq_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_adq_ac_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_ejercicio_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_depr_tot}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_costo_h}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_costo_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{region.all_depre_anual_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
					</tr>
				</ui:repeat>
				<tr>
						<td colspan="3" class="customTableDetTTxtCN">
							<h:outputText value="TOTAL:" />
						</td>
						
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.adq_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.adq_ac_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.ejercicio_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.depr_tot}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.costo_h}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.costo_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteGeneral.depre_anual_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
					</tr>
				</table>
			</p:panel>
				<p:spacer height="25px"/>
				
				
<!-- 				TABLA AJUSTES -->
			<p:panel style="flot:left;overflow-x: auto;width:1200px;" >
				<c:choose>
				<c:when test="#{resuConcentrado.ajuste.clave eq 'TA'}"> 
				<div id="TituloAjustes" class="subTituloPantalla">AJUSTES POR TIPO</div>
				<table id="detAjuste" style="table-layout:fixed;width:100%">
					<tr>
						<td class="customTableDTxtCN2">ACTIVOS</td>
						<td class="customTableHCN">ADQUISICION<br/>BAJA</td>
						<td class="customTableHCN">ACUMULADA<br/>BAJA</td>
						<td class="customTableHCN">EJERCICIO<br/>BAJA</td>
						<td class="customTableHCN">DEPRECIACION<br/>TOTAL</td>
						<td class="customTableHCN">COSTO<br/>HISTORICO</td>
						<td class="customTableHCN">INPC<br/>MP</td>
						<td class="customTableHCN">INPC</td>
						<td class="customTableHCN">FACTOR<br/>ACT</td>
						<td class="customTableHCN">COSTO<br/>ACTUALIZADO</td>
						<td class="customTableHCN">DEP. AÑO<br/>ACTUALIZADA</td>
					</tr>
				
						<ui:repeat var="texto" value="#{resuConcentrado.listTotalGlobalAjReg}" varStatus="clast">
						<tr>
						<td  class="customTableDTxtCN1">
							<h:outputText value="#{texto.texto_baja}" />
						</td>
						
						<td class="customTableDetCN">
							<h:outputText value="#{texto.adq_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetCN">
							<h:outputText value="#{texto.adq_ac_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />	
							</h:outputText>
						</td>
						<td class="customTableDetCN">
							<h:outputText value="#{texto.ejercicio_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetCN">
							<h:outputText value="#{texto.depr_tot}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetCN">
							<h:outputText value="#{texto.costo_h}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetCN">
						</td>
						<td class="customTableDetCN">
						</td>
						<td class="customTableDetCN">
						</td>
						<td class="customTableDetCN">
							<h:outputText value="#{texto.costo_act}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetCN">
							<h:outputText value="#{texto.depre_anual_act}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						</tr>
						</ui:repeat>
						<tr>
						<td class="customTableDTxtCN2">
							<h:outputText value="TOTAL AJUSTES POR TIPO:">
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.adq_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.adq_ac_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.ejercicio_baja}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.depr_tot}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.costo_h}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.costo_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totReporteAjGeneral.depre_anual_act}">
							<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
					</tr>
					
					<tr>
						<td class="customTableDTxtCN2">
							<h:outputText value="GRAN TOTAL AJUSTADO:" />
						</td>
						
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.adq_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.adq_ac_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />	
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.ejercicio_baja}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.depr_tot}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.costo_h}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.costo_act}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						<td class="customTableDetTCN">
							<h:outputText value="#{resuConcentrado.totalGlobalRegTot.depre_anual_act}">
								<f:convertNumber pattern="##,##0.00" locale="es_MX" />
							</h:outputText>
						</td>
						</tr>
				</table>
				</c:when> 
			</c:choose>
			</p:panel>
			<p:spacer height="25px"/>
		</h:form>

	</ui:define>
</ui:composition>
</html>
