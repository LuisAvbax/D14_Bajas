<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../templates/desktop.xhtml">
	<ui:define name="content">
		<h:panelGrid columns="2">
			<div id="TituloPantalla" class="tituloPantalla">#{msg.reporte_tit_dprreg}</div>	
		</h:panelGrid>
		<h:form id="dprregForm">
		<p:messages id="msgFile" showSummary="false" showDetail="true" autoUpdate="false" closable="false" globalOnly="true" />
		
		<h:panelGrid id="gridfiltros" columns="1" border="0" style="margin: 0 auto;text-align:center;">
			<h:outputText value="#{depreReg.calculotxt}" style="font-size:11px;"/>
			<c:choose>    
			    <c:when test="#{depreReg.acum eq 'true'}">  
			      <h:outputText value="#{depreReg.mesSeleccion}" style="font-size:11px;" />
			    </c:when>  
			    <c:otherwise>  
			       <h:outputText value="#{depreReg.mesSeleccion}" style="font-size:11px;" />
				   <h:outputText value="AÑO: #{depreReg.anio}" style="font-size:11px;" />
			    </c:otherwise>  
			</c:choose>
			<h:outputText value="CLASE: #{depreReg.claseReptxt}" style="font-size:11px;" />
			<h:outputText value="REGIÓN: #{depreReg.regionReptxt}" style="font-size:11px;" />
			<h:outputText value="#{depreReg.textosTitulos}" style="font-size:11px;" />
			<h:outputText value="AJUSTES: #{depreReg.ajuste.descripcion}" style="font-size:11px;" />
			
			</h:panelGrid>
		
		
			<h:panelGrid id="panelCarga" columns="3" border="0" style="margin: 0 auto;">
			</h:panelGrid>

			<p:spacer height="10px" />

			
			<h:panelGrid id="griddescarga" columns="2" cellpadding="5" border="0">
				<h:commandLink  id="linkdescarga" action="descarga" >
					<h:graphicImage value="/css/iconos/excel-icon.png" style="width : 43px; height : 43px;"/>
				</h:commandLink>
				<h:commandLink  id="linkdescargaPDF" action="dDesPDF">
				<h:graphicImage value="/css/iconos/Pdf-icon.png" style="width : 43px; height : 43px;"/>
			</h:commandLink>	
			</h:panelGrid>
			
			<p:dataTable id="dataTableGeneral" paginator="true" rows="10"
				rowIndexVar="rowNum" paginatorPosition="bottom"
				paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} Total de Registros: #{depreReg.listRepDepreReg.size()}"
				rowsPerPageTemplate="20,50,100" var="dpr"
				value="#{depreReg.listRepDepreReg}" styleClass="myTable">

				<f:facet name="header">
				</f:facet>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="#{msg.reporte_adq_region}" />
					</f:facet>
					<h:outputText value="#{dpr.region}" />
					
					<f:facet name="footer">
            			<h:outputText id="regtotalmes" value="#{msg.reporte_adq_total}" />
            			
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="ENE-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpr.enero ? 0: dpr.enero}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalEne" value="#{depreReg.totReporteMesGeneral.enero}" >
            			<f:convertNumber pattern="##,##0.00" /> 
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="FEB-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpr.febrero ? 0: dpr.febrero}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalFeb" value="#{depreReg.totReporteMesGeneral.febrero}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="MAR-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpr.marzo ? 0: dpr.marzo}" >
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalMar" value="#{depreReg.totReporteMesGeneral.marzo}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="ABR-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpr.abril ? 0: dpr.abril}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalAbr" value="#{depreReg.totReporteMesGeneral.abril}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="MAY-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpr.mayo ? 0: dpr.mayo}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalMay" value="#{depreReg.totReporteMesGeneral.mayo}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="JUN-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpr.junio ? 0: dpr.junio}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalJun" value="#{depreReg.totReporteMesGeneral.junio}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="JUL-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpr.julio ? 0: dpr.julio}">
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalJul" value="#{depreReg.totReporteMesGeneral.julio}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="AGO-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpr.agosto ? 0: dpr.agosto}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalAgo" value="#{depreReg.totReporteMesGeneral.agosto}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="SEP-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpr.septiembre ? 0: dpr.septiembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalSep" value="#{depreReg.totReporteMesGeneral.septiembre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="OCT-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpr.octubre ? 0: dpr.octubre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalOct" value="#{depreReg.totReporteMesGeneral.octubre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="NOV-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpr.noviembre ? 0: dpr.noviembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalNov" value="#{depreReg.totReporteMesGeneral.noviembre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;" >
					<f:facet name="header">
						<h:outputText value="DIC-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpr.diciembre ? 0 : dpr.diciembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalDic" value="#{depreReg.totReporteMesGeneral.diciembre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="#{msg.reporte_adq_total}"  />
					</f:facet>
					<h:outputText value="#{dpr.totalRegion}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="total" value="#{depreReg.totReporteMesGeneral.total}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
			</p:dataTable>
			<p:spacer height="25px"/>
		
			<!-- 			AJUSTES -->			  
			 <c:choose>  
			 <c:when test="#{depreReg.ajuste.clave eq 'TA'}"> 
			<div id="TituloAjustes" class="subTituloPantalla">AJUSTES DEP. AÑO ACTUALIZADA</div>
			<p:dataTable id="dataTableAjsutes" paginator="false " rows="10"
				rowIndexVar="rowNum" paginatorPosition="bottom"
				paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} Total de Registros: #{depreReg.listRepAjDepreReg.size()}"
				rowsPerPageTemplate="20,50,100" var="dpraj"
				value="#{depreReg.listRepAjDepreReg}">

				<f:facet name="header">
				</f:facet>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="#{msg.reporte_adq_region}" />
					</f:facet>
					<h:outputText value="#{dpraj.region}" />
					
					<f:facet name="footer">
            			<h:outputText id="regtotalmes" value="#{msg.reporte_adq_total}" />
            			
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="ENE-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpraj.enero ? 0: dpraj.enero}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalEne" value="#{depreReg.totReporteMesAjusteGeneral.enero}" >
            			<f:convertNumber pattern="##,##0.00" /> 
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="FEB-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpraj.febrero ? 0: dpraj.febrero}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalFeb" value="#{depreReg.totReporteMesAjusteGeneral.febrero}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="MAR-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpraj.marzo ? 0: dpraj.marzo}" >
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalMar" value="#{depreReg.totReporteMesAjusteGeneral.marzo}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="ABR-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpraj.abril ? 0: dpraj.abril}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalAbr" value="#{depreReg.totReporteMesAjusteGeneral.abril}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="MAY-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpraj.mayo ? 0: dpraj.mayo}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalMay" value="#{depreReg.totReporteMesAjusteGeneral.mayo}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="JUN-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{empty dpraj.junio ? 0: dpraj.junio}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalJun" value="#{depreReg.totReporteMesAjusteGeneral.junio}">
            				<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="JUL-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpraj.julio ? 0: dpraj.julio}">
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalJul" value="#{depreReg.totReporteMesAjusteGeneral.julio}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="AGO-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpraj.agosto ? 0: dpraj.agosto}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalAgo" value="#{depreReg.totReporteMesAjusteGeneral.agosto}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="SEP-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpraj.septiembre ? 0: dpraj.septiembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalSep" value="#{depreReg.totReporteMesAjusteGeneral.septiembre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="OCT-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpraj.octubre ? 0: dpraj.octubre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalOct" value="#{depreReg.totReporteMesAjusteGeneral.octubre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="NOV-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpraj.noviembre ? 0: dpraj.noviembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalNov" value="#{depreReg.totReporteMesAjusteGeneral.noviembre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;" >
					<f:facet name="header">
						<h:outputText value="DIC-#{depreReg.strAnio}"  />
					</f:facet>
					<h:outputText value="#{empty dpraj.diciembre ? 0 : dpraj.diciembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="totalDic" value="#{depreReg.totReporteMesAjusteGeneral.diciembre}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
				
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="#{msg.reporte_adq_total}"  />
					</f:facet>
					<h:outputText value="#{dpraj.totalRegion}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					<f:facet name="footer">
            			<h:outputText id="total" value="#{depreReg.totReporteMesAjusteGeneral.total}">
            			<f:convertNumber pattern="##,##0.00" />
            			</h:outputText>
        			</f:facet>
				</p:column>
			</p:dataTable>
			
						<p:spacer height="25px"/>
<!-- 			GRAN TOTAL -->
			<p:dataTable id="dataTableGT" rows="10"
				rowIndexVar="rowNum"
				var="dprgt"
				value="#{depreReg.totReporteMesAjusteGranLst}" >

				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="#{msg.reporte_adq_region}" />
				</f:facet>
					<h:outputText value="#{msg.reporte_adq_granTotal}" />
				</p:column>
				
				<p:column style="text-align: left;">
					<f:facet name="header">
						<h:outputText value="ENE-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.enero}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="FEB-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.febrero}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="MAR-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.marzo}" >
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="ABR-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.abril}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="MAY-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.mayo}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="JUN-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.junio}" >
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="JUL-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.julio}">
						<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="AGO-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.agosto}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="SEP-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.septiembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
					
				</p:column>
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="OCT-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.octubre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>
				</p:column>
				
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="NOV-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.noviembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>

				</p:column>
				
				
				<p:column style="text-align: left;" >
				<f:facet name="header">
						<h:outputText value="DIC-#{depreReg.strAnio}" />
					</f:facet>
					<h:outputText value="#{dprgt.diciembre}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>

				</p:column>
				
				
				<p:column style="text-align: left;">
				<f:facet name="header">
						<h:outputText value="TOTAL" />
					</f:facet>
					<h:outputText value="#{dprgt.total}">
					<f:convertNumber pattern="##,##0.00" />
					</h:outputText>

				</p:column>
			</p:dataTable>
			
			</c:when> 
			</c:choose>
		</h:form>

	</ui:define>
</ui:composition>
</html>
